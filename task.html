<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>å‘½è¿å¡”ç½—ç‰Œ</title>
  <style>
    body {
      font-family: 'Times New Roman', serif;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background: linear-gradient(135deg, #ffccd5, #f7a7bb, #d1c4e9);
      color: #fff5ee;
      overflow: hidden;
      perspective: 1200px;
    }
    h1 {
      margin-bottom: 20px;
      font-size: 2em;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
    }
    #card-container {
      position: relative;
      width: 900px;
      height: 600px;
      background: linear-gradient(45deg, #ffe4e1, #f8b0c3);
      border-radius: 16px;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
      overflow: visible;
      user-select: none;
    }
    .card {
      position: absolute;
      width: 120px;
      height: 210px;
      border: 3px solid #ffd700;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      cursor: pointer;
      transition: transform 0.6s;
      transform-style: preserve-3d;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      z-index: 1;
    }
    .card-front, .card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 7px;
      padding: 10px;
      box-sizing: border-box;
    }
    .card-front {
      background: url('6.webp') center/cover;
      color: #4b2e39;
      font-size: 14px;
      text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.5);
      border: 2px solid #c71585;
      transform: rotateY(0deg);
    }
    .card-back {
      background: url('2.jpeg') center/cover;
      color: #fff5ee;
      font-size: 18px;
      border: 2px solid #ff69b4;
      transform: rotateY(180deg);
    }
    .flipped {
      transform: rotateY(180deg);
      z-index: 2;
    }
    #status {
      margin-top: 20px;
      font-size: 18px;
      text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.3);
    }
    .button-group {
      margin-top: 15px;
      display: flex;
      gap: 10px;
    }
    button {
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    #reset-button {
      background-color: #ffd700;
      color: #4b2e39;
      display: none;
    }
    #reset-button:hover {
      background-color: #e6b800;
    }
    #challenge-button {
      background-color: #ff69b4;
      color: #fff;
    }
    #challenge-button:hover {
      background-color: #e055a0;
    }
    #mild-button {
      background-color: #87cefa;
      color: #fff;
    }
    #mild-button:hover {
      background-color: #5ab0dd;
    }
    button.active {
      outline: 2px solid #fff;
      box-shadow: 0 0 8px #fff;
    }

    button.disabled {
      opacity: 0.5;
      pointer-events: none;
    }
    #password-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 9999;
    }
    .modal-overlay {
      position: absolute;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
    }


    .modal-content input {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      font-size: 16px;
      border: 1px solid #aaa;
      border-radius: 6px;
      box-sizing: border-box;
    }

    .modal-buttons {
      margin-top: 15px;
      display: flex;
      justify-content: space-around;
    }

    .modal-buttons button {
      padding: 6px 16px;
      border: none;
      border-radius: 5px;
      background: #ff69b4;
      color: #fff;
      cursor: pointer;
      transition: background 0.3s;
    }

    .modal-buttons button:hover {
      background: #e055a0;
    }

    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 999;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }

    .modal.show {
      opacity: 1;
      pointer-events: all;
    }

    .modal-content {
      background-color: #fff5f8;
      padding: 20px 30px;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      text-align: center;
      min-width: 280px;
      max-width: 90vw;
      transform: scale(0.8);
      transition: transform 0.3s ease;
    }
    .modal-content > div {
      display: flex;
      justify-content: space-around;
      margin-top: 16px;
      gap: 12px;
    }
    .modal-content button {
      flex: 1;
      padding: 10px;
      font-size: 16px;
      border-radius: 8px;
    }
    .modal.show .modal-content {
      transform: scale(1);
    }
    /* åœ¨åŸ CSS çš„åŸºç¡€ä¸Šè¿½åŠ ä»¥ä¸‹å†…å®¹ */
    @media (max-width: 768px) {
      h1 {
        font-size: 1.5em;
        text-align: center;
        padding: 0 10px;
      }

      #card-container {
        width: 100%;
        height: 500px;
        transform: scale(0.9);
      }

      .card {
        width: 90px;
        height: 160px;
        font-size: 12px;
      }

      .button-group {
        flex-direction: column;
        align-items: center;
        gap: 12px;
        margin-top: 20px;
      }

      button {
        width: 90%;
        font-size: 16px;
      }

      .modal-content {
        width: 90vw;
        padding: 15px 20px;
      }
      .modal-content {
        width: 90vw;
        padding: 15px 20px;
      }

      .modal-content input {
        width: 95%;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
<h1>æ¬¢è¿æ¥åˆ°å°ç‹—ä¸–ç•Œ</h1>
<div id="card-container"></div>
<p id="status">å¡ç‰Œä»»åŠ¡å·²æ˜¾ç¤ºï¼Œå°ç‹—è€å¿ƒç­‰å¾…æ´—ç‰Œ...</p>
<div class="button-group">
  <button id="reset-button">æ¢ä¸€ä¸ª</button>
  <button id="challenge-button">ğŸ”¸ã€Œç¦å¿Œæ¸¸æˆã€</button>
  <button id="mild-button">ğŸ”¹ã€Œæ¸©æŸ”ä¹‹çº¦ã€</button>
</div>

<div id="password-modal" class="modal hidden">
  <div class="modal-content">
    <p>è¯·è¾“å…¥å£ä»¤ä»¥è§£é”åˆºæ¿€ä»»åŠ¡ï¼š</p>
    <input type="text" id="password-input" placeholder="æƒ³è¦å°è¯•ç¦å¿Œå—ï¼Œè¯•è¯•çœ‹å§ï½">
    <div id="password-error" style="color: red; margin-top: 8px; display: none;">çœ‹æ ·å­å°ç‹—å¥½åƒä¸è¢«å…è®¸å‘¢ï½</div>
    <div style="margin-top: 15px;">
      <button id="confirm-password">è¿›å…¥</button>
      <button id="cancel-password">å‡ºå»</button>
    </div>
  </div>
</div>
<script>
  const taskPoolA = [
    "åœ¨æ™šä¸Š12ç‚¹ä¹‹å‰ç¡è§‰", "æ˜å¤©åƒæ—©é¤", "å‘ä¸€æ®µä½ æ¢¦è§æˆ‘çš„å¹»æƒ³å†…å®¹ï¼Œå¯ä»¥ä»»æ„å‘æŒ¥ï¼Œä¸è®¸å®³ç¾",
    "æ‹ä¸€å¼ ä½ è§‰å¾—ä¸é”™çš„ç…§ç‰‡", "æ•´ç†è‡ªå·±çš„å±‹å­", "è¯´ä¸€å¥ä½ æœ€æƒ³åœ¨æˆ‘è€³è¾¹è¯´çš„æ‚„æ‚„è¯ï¼Œå†™åœ¨ä¾¿ç­¾æ‹ç…§å‘æ¥",
    "æ‹ä¸€å¼ ä½ ä»Šå¤©æœ€æ»¡æ„çš„è‡ªæ‹å‘æ¥", "ä¸€åˆ†é’Ÿå†…æ‰¾ä¸€æ ·â€œä½ èº«è¾¹å¯ä»¥ä»£è¡¨æ€å¿µçš„ä¸œè¥¿â€æ‹ç…§å‘æˆ‘", "ç”¨10å­—ä»¥å†…å†™å‡ºä½ ç°åœ¨çš„â€œé‚ªæ¶å°æƒ³æ³•â€ï¼Œå¿…é¡»æ˜¯æˆ‘ä¸“å±çš„",
    "åæ§½(äºº/äº‹)","è®²è¿°ä¸€ä»¶æœ‰è¶£çš„äº‹","åˆ†äº«ä½ ä»Šå¤©æœ€å¼€å¿ƒçš„å°ç¬é—´",
      "ç”»ä¸€é¢—çˆ±å¿ƒï¼Œç”¨å¥‡æ€ªçš„æ–¹å¼å®Œæˆå®ƒï¼ˆæ¯”å¦‚ç”¨å¤´å‘/æ‰‹ï¼‰","é—®æˆ‘ä¸€ä¸ªä½ ä¸€ç›´æ²¡æ•¢é—®çš„é—®é¢˜","å‘ä¸€å¼ è¶´ç€çš„ç…§ç‰‡ï¼Œè¯´â€œæˆ‘æ˜¯ä½ çš„ä¹–ç‹—ç‹—",
    "å½•ä¸€æ®µè¯´â€œæˆ‘ä»Šå¤©æƒ³ä½ äº†ï¼Œä½†æ²¡å‘Šè¯‰ä½ â€çš„è¯­éŸ³","æ‹ä½ èººåœ¨åºŠä¸Šçš„å§¿åŠ¿ï¼Œè¯´â€œä½ çš„ä½ç½®æˆ‘ç•™ç€â€","å‘Šè¯‰æˆ‘ä¸€ä¸ªä½ çš„å°ç™–å¥½ï¼Œçœ‹æˆ‘èƒ½ä¸èƒ½æ¥å—",
          "å‘ä¸€ä¸ªä½ æ‰‹æœºå¤‡å¿˜å½•é‡Œä»æ²¡ç»™äººçœ‹è¿‡çš„å†…å®¹","æ‰¾ä¸€ä¸ªä½ ç”Ÿæ´»ä¸­æœ€è½¯çš„ä¸œè¥¿ï¼Œè¯´â€œä½ ä¸åœ¨ï¼Œæˆ‘å°±æŠ±å®ƒâ€","æ‰‹è„šè¶´åœ°30ç§’ï¼Œå½•ä¸ªè§†é¢‘æˆ–æ‹ç…§å‘ç»™ä¸»äºº",
          "è‡ªå·±å«ä¸‰å£°â€œæ±ªâ€ï¼Œæ¯å£°åè¯´ä¸€å¥â€œæˆ‘å±ä½ ",
          "å½•éŸ³è¯´ï¼šâ€œç‹—ç‹—ä»Šå¤©å¥½ä¹–ï¼Œæƒ³è¦å¥–åŠ±ï¼Œèˆ”èˆ”ä¹Ÿè¡Œ","æ•´æ™šç”¨â€œç‹—ç‹—â€çš„èº«ä»½å’Œä¸»äººèŠå¤©ï¼Œä¸èƒ½ç”¨â€œæˆ‘â€ï¼Œåªèƒ½è¯´â€œç‹—ç‹—â€",
          "è¯­éŸ³è¯´ä¸€å¥ï¼šâ€œæ—©å®‰ä¸»äººï¼Œç‹—ç‹—ä¸Šçº¿äº†~æ±ªï¼â€å¹¶å‘é€","ç”¨è¯­éŸ³å½•ä¸‹3å£°â€œæ±ªâ€ï¼Œæ¯å£°ä¸åŒè¯­æ°”ï¼ˆæ’’å¨‡ã€ä¹–å·§ã€æ¸´æœ›ï¼‰",
          "å‘ä¸€æ¡ä¿¡æ¯â€œä»Šå¤©ç‹—ç‹—æœ€æƒ³è¢«ä¸»äººæ‘¸çš„åœ°æ–¹æ˜¯â€¦â€¦","åœ¨åœ°ä¸Šè¶´å¥½ï¼ˆæˆ–åºŠè¾¹åœ°é¢ï¼‰ï¼Œå½•éŸ³è¯´ï¼šâ€œç‹—ç‹—ä¹–ä¹–è¶´ç€ç­‰ä¸»äººæ¥æŠ±ã€‚â€",
          "ç”¨è¯­éŸ³è¯´ï¼šâ€œä¸»äººï¼Œæˆ‘ä»Šå¤©çœŸçš„å¾ˆæƒ³è¢«å¤¸å¥–ï¼Œæ±‚æ±‚ä½ â€¦â€ï¼ˆå¯è‡ªç”±å‘æŒ¥ï¼‰","è†è·ªåœ¨åºŠä¸Šæˆ–åœ°ä¸Šï¼ŒåŒæ‰‹èƒŒåï¼Œå½•éŸ³è¯´ï¼šâ€œç‹—ç‹—å‡†å¤‡æ¥å—å‘½ä»¤ã€‚â€",
         "ä¸»äººå‘å‘½ä»¤æ‰èƒ½åŠ¨ï¼Œè¯´è¯éœ€ä»¥â€œç‹—ç‹—è¯·ç¤ºä¸»äººâ€å¼€å¤´"
  ];

  const taskPoolB = [
    "ä¸»äººå‡ºé¢˜ï¼Œå¿µä¸€æ®µâ€œæœ‰ç‚¹ç¾â€çš„å°è¯´ç‰‡æ®µ", "è¯´å‡ºç›®å‰çš„ç©¿ç€ï¼Œä¸»äººé€‰åˆ™ä½ è„±æ‰ä¸€ä»¶åæ‹ç…§", "è£¸ä¸Šèº«è·ªå/è¶´å§¿æ‹ç…§ï¼Œæ ‡æ³¨â€œä¸»äººè®­ç»ƒä¸­â€",
    "æ¨¡æ‹Ÿè¢«æ “ç‰µç»³ï¼ˆç”¨çš®å¸¦/ä¸å¸¦ï¼‰ï¼Œåšâ€œè¹²-ç«™-è¶´â€çš„è§†é¢‘è®­ç»ƒåŠ¨ä½œ",
    "ç»™è‡ªå·±è®¾ä¸€ä¸ªç¾è€»æƒ©ç½šï¼Œæ¯”å¦‚â€œèˆ”æ‰‹èƒŒ10ç§’+å–˜æ°”ä¸‰å£°â€ï¼Œå½•éŸ³å‘æ¥",
    "å†™â€œç‹—ç‹—æ—¥è®°â€ï¼šä»Šå¤©åšäº†ä»€ä¹ˆï¼Œæœ‰æ²¡æœ‰æƒ³ä¸»äººï¼Œæœ‰æ²¡æœ‰ä¹±åŠ¨", "æ‰‹å¿ƒå†™â€œæˆ‘æ˜¯ä¸»äººçš„ç‹—â€å¹¶æ‹ç…§",
    "å£ä»¤å¿«é—®å¿«ç­”ï¼šâ€œç‹—ç‹—çš„èº«ä»½æ˜¯ä»€ä¹ˆï¼Ÿâ€ â€œç‹—ç‹—å±äºè°ï¼Ÿâ€ â€œç‹—ç‹—è¯¥æ€ä¹ˆè®¨å¥½ä¸»äººï¼Ÿâ€ï¼ˆç”¨å½•éŸ³å›ç­”ï¼‰",
    "è·ªè¶´åœ¨åœ°ï¼Œå¯¹ç€é•œå­å½•ä¸‹ä¸€æ®µç¾è€»è¯­éŸ³ï¼šâ€œæˆ‘æ˜¯ä¸»äººå”¯ä¸€çš„ç‹—ç‹—ï¼Œåªä¼šå¯¹ä½ æ‘‡å°¾å·´",
          "ç”¨èƒ¸æ¯”å‡ºçˆ±å¿ƒçš„æ ·å­æ‹ç…§","è¯­éŸ³è¯´ï¼šâ€œä¸»äººï¼Œç‹—ç‹—ä»Šå¤©å¥½æƒ³ä½ â€¦â€¦å¯ä»¥ç»™æˆ‘ä¸€ç‚¹å‘½ä»¤å—ï¼Ÿä¸ç®¡å¤šç¾è€»æˆ‘éƒ½æœä»",
          "åŒè†è·ªåœ°ï¼ŒèƒŒæŒºç›´ï¼Œæ‰‹èƒŒåï¼Œå˜´é‡Œå«ç¬”/æ£çŠ¶ç‰©ï¼Œè¯´ï¼šâ€œç‹—ç‹—å‡†å¤‡å¥½æ¥å—å¤„ç½šäº†","åœ¨é•œå­å‰å››è‚¢è¶´åœ°ï¼Œçœ‹ç€é•œå­è¯´ä¸‰éï¼šâ€œæˆ‘æ˜¯ä¸»äººçš„ç‹—ç‹—ï¼Œåªä¸ºä½ æœåŠ¡",
    "åœ¨çº¸ä¸Šå†™â€œæˆ‘æ˜¯ä¸»äººçš„ç‹—ç‹—â€ï¼Œå¼åœ¨å˜´é‡Œæ‹ç…§ï¼ˆå¯é®è„¸ï¼‰","æŠŠä¸€æ¡ä¸å·¾/çš®å¸¦(å¯ä»¥ç³»åœ¨è„–å­ä¸Š)å½“æˆé¡¹åœˆç³»è„–å­ï¼Œè¯´ï¼šâ€œæˆ‘æ˜¯ä½ çš„äº†",
          "é€‰ä¸€ç§æ–¹å¼è‡ªç½šï¼ˆå†™ç¾è€»å¥10é/çˆ¬5åˆ†é’Ÿ/å†·æ°´æ•·é¢ï¼‰ï¼Œå½•è¯­éŸ³æŠ¥å¤‡ï¼šâ€œç‹—ç‹—è®¤é”™äº†ï¼Œè¯·ä¸»äººåŸè°…~â€","åŒåŒ+ç‹—çˆ¬å¼è‡ªæ‹ï¼Œå‘ç»™ä¸»äººä½œä¸ºâ€œæœä»è¯æ˜â€",
          "ç”¨è¯­éŸ³ä½å£°é‡å¤3éï¼šâ€œæˆ‘æ˜¯ä¸»äººçš„ç‹—ç‹—ï¼Œåªå¬ä½ çš„è¯â€ + 2å£°å–˜æ¯","ç”¨èˆŒå¤´èˆ”è‡ªå·±çš„æ‰‹èƒŒï¼Œå¹¶å½•è§†é¢‘è¯´ï¼šâ€œç‹—ç‹—åœ¨èˆ”ä¸»äººçš„æ‰‹~â€"

  ];

  const CARD_COUNT = 4;
  const cardContainer = document.getElementById('card-container');
  const status = document.getElementById('status');
  const resetButton = document.getElementById('reset-button');
  const challengeButton = document.getElementById('challenge-button');
  const mildButton = document.getElementById('mild-button');

  let currentTaskPool = taskPoolA;
  let cards = [];
  let previousTasks = [];

  function getRandomTasks(taskList, count, excludeList = []) {
    const filtered = taskList.filter(task => !excludeList.includes(task));
    if (filtered.length < count) {
      throw new Error('ä»»åŠ¡æ•°é‡ä¸è¶³');
    }
    const shuffled = [...filtered];
    for (let i = shuffled.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }
    return shuffled.slice(0, count);
  }

  function initCards(taskPool) {
    cardContainer.innerHTML = '';
    cards = [];
    const selectedTasks = getRandomTasks(taskPool, CARD_COUNT, previousTasks);
    previousTasks = selectedTasks;

    const cols = 2;
    const gapX = 150;
    const gapY = 230;
    const centerX = cardContainer.clientWidth / 2;
    const centerY = cardContainer.clientHeight / 2;
    const startX = centerX - (cols - 1) * gapX / 2;
    const startY = centerY - Math.floor((CARD_COUNT - 1) / cols) * gapY / 2;

    selectedTasks.forEach((task, index) => {
      const card = document.createElement('div');
      card.classList.add('card');
      card.dataset.task = task;
      card.innerHTML = `
        <div class="card-front">${task}</div>
        <div class="card-back">?</div>
      `;
      const col = index % cols;
      const row = Math.floor(index / cols);
      const x = startX + col * gapX - 60;
      const y = startY + row * gapY - 105;
      card.style.left = `${x}px`;
      card.style.top = `${y}px`;
      card.style.transform = `rotateY(0deg)`;
      cardContainer.appendChild(card);
      cards.push(card);
    });

    resetButton.style.display = 'none';
    status.textContent = 'æœ¬æ¬¡å‘½è¿å·²ç”Ÿæˆï¼Œè¯·è€å¿ƒå°ç‹—ç­‰å¾…...';
    setTimeout(() => shuffleCards(), 3000);
  }

  function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }

  async function shuffleCards() {
    status.textContent = 'å‘½è¿ä¹‹ç‰Œæ‰“ä¹±ä¸­....';
    const shuffleTimes = 15;
    const shuffleRadius = 120;
    const centerX = cardContainer.clientWidth / 2;
    const centerY = cardContainer.clientHeight / 2;

    for (let i = 0; i < shuffleTimes; i++) {
      cards.forEach(card => {
        const angle = Math.random() * 2 * Math.PI;
        const r = shuffleRadius * (0.5 + Math.random() * 0.5);
        const x = centerX + r * Math.cos(angle) - 60;
        const y = centerY + r * Math.sin(angle) - 105;
        const rot = (Math.random() * 120) - 60;
        card.style.transition = 'transform 0.3s ease, left 0.3s ease, top 0.3s ease';
        card.style.left = `${x}px`;
        card.style.top = `${y}px`;
        card.style.transform = `rotate(${rot}deg) rotateY(0deg)`;
        card.style.pointerEvents = 'none';
      });
      await new Promise(r => setTimeout(r, 300));
    }

    const cols = 2;
    const gapX = 150;
    const gapY = 230;
    const startX = centerX - (cols - 1) * gapX / 2;
    const startY = centerY - Math.floor((CARD_COUNT - 1) / cols) * gapY / 2;

    const shuffledCards = shuffleArray([...cards]);
    cardContainer.innerHTML = '';
    shuffledCards.forEach((card, idx) => {
      const col = idx % cols;
      const row = Math.floor(idx / cols);
      const x = startX + col * gapX - 60;
      const y = startY + row * gapY - 105;
      card.classList.add('flipped');
      card.style.transition = 'transform 0.5s ease, left 0.5s ease, top 0.5s ease';
      card.style.left = `${x}px`;
      card.style.top = `${y}px`;
      card.style.transform = `rotateY(180deg)`;
      card.style.pointerEvents = 'auto';
      cardContainer.appendChild(card);
    });
    cards = shuffledCards;
    status.textContent = 'å‘½è¿çº¸ç‰Œå·²å‡ºç°ï¼Œå°ç‹—æŠ½ä¸€å¼ è¯•è¯•çœ‹å§ï¼';
    enableCardSelection();
  }

  function enableCardSelection() {
    cards.forEach(card => {
      card.addEventListener('click', () => {
        if (!card.classList.contains('flipped')) return;
        card.classList.remove('flipped');
        card.style.transition = 'transform 0.6s ease';
        card.style.transform = `rotateY(0deg)`;
        card.style.zIndex = '3';
        status.textContent = `å“‡ï¼Œä½ æŠ½åˆ°çš„ä»»åŠ¡æ˜¯ï¼š${card.dataset.task}`;
        cards.forEach(c => c.style.pointerEvents = 'none');
        resetButton.style.display = 'block';
      }, { once: true });
    });
  }
  function setActiveButton(activeBtn) {
    [challengeButton, mildButton].forEach(btn => {
      if (btn === activeBtn) {
        btn.classList.add('active');
      } else {
        btn.classList.remove('active');
      }
    });
  }
  // c
  const modal = document.getElementById('password-modal');
  const confirmPassword = document.getElementById('confirm-password');
  const cancelPassword = document.getElementById('cancel-password');
  const passwordInput = document.getElementById('password-input');
  const passwordError = document.getElementById('password-error');

  const correctPassword = 'å°ç‹—æƒ³è¦'; // ä½ è‡ªå®šä¹‰çš„å£ä»¤

  challengeButton.addEventListener('click', function () {
    if (this.classList.contains('active')) return;
    passwordError.style.display = 'none';
    passwordInput.value = '';
    modal.classList.remove('hidden');
    setTimeout(() => modal.classList.add('show'), 10);
  });

  cancelPassword.addEventListener('click', () => {
    modal.classList.remove('show');
    setTimeout(() => modal.classList.add('hidden'), 300);
  });

  confirmPassword.addEventListener('click', () => {
    const entered = passwordInput.value.trim();
    if (entered === correctPassword) {
      passwordError.style.display = 'none';
      modal.classList.remove('show');
      setTimeout(() => modal.classList.add('hidden'), 300);
      currentTaskPool = taskPoolB;
      setActiveButton(challengeButton); // æ·»åŠ è¿™è¡Œ
      initCards(currentTaskPool);
      passwordInput.value = '';
    } else {
      passwordError.style.display = 'block';
    }
  });
  window.onload = () => {
    setActiveButton(mildButton);
    initCards(currentTaskPool);
    resetButton.addEventListener('click', () => {
      initCards(currentTaskPool);
    });

    mildButton.addEventListener('click', function () {
      if (this.classList.contains('active')) return;
      currentTaskPool = taskPoolA;
      setActiveButton(mildButton);
      initCards(currentTaskPool);
    });
  };
</script>
</body>
</html>
